<!DOCTYPE html>
<html>
<head>
    <title>Flask MySQL CRUD</title>
</head>
<body>
    <h2>User Management</h2>

    <!-- Add User Form -->
    <h3>Add New User</h3>
    <form method="POST" action="/add">
        <input type="text" name="name" placeholder="Enter name" required>
        <input type="email" name="email" placeholder="Enter email" required>
        <button type="submit">Add</button>
    </form>

    <h3>Users List</h3>

    {% if users %}
    <table border="1" cellpadding="8" cellspacing="0">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.id }}</td>
                <td>
                    <form method="POST" action="/update/{{ user.id }}">
                        <input type="text" name="name" value="{{ user.name }}" required>
                </td>
                <td>
                        <input type="email" name="email" value="{{ user.email }}" required>
                </td>
                <td>
                        <button type="submit">Update</button>
                    </form>
                    <form method="GET" action="/delete/{{ user.id }}" style="display:inline;">
                        <button type="submit">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
        <p>No users found.</p>
    {% endif %}
</body>
</html>
